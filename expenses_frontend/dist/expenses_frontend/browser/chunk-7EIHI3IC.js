import{d as O}from"./chunk-4PTV3ILM.js";import{Fa as c,Ha as n,Ia as i,Ja as d,Ka as h,La as g,Ma as p,Oa as s,Pa as C,Qa as f,W as u,X as b,ib as v,jb as y,mb as M,na as a,ra as _,tb as P,va as x,za as m}from"./chunk-LOZT3DS7.js";function I(e,t){e&1&&d(0,"i",12)}function S(e,t){e&1&&d(0,"i",13)}function U(e,t){e&1&&(n(0,"span"),s(1,"Refresh"),i())}function D(e,t){e&1&&(n(0,"span"),s(1,"Loading..."),i())}function E(e,t){e&1&&(n(0,"p"),d(1,"i",16),s(2," You're not part of any groups yet. Contact your admin to be added to a group. "),i())}function L(e,t){if(e&1&&(n(0,"div",14),d(1,"i",15),n(2,"p"),s(3,"Welcome back, "),n(4,"strong"),s(5),i(),s(6,"!"),i(),m(7,E,3,0,"p",6),i()),e&2){let r=p();a(5),C(r.currentUser.username),a(2),c("ngIf",r.groups.length===0&&!r.isLoading)}}function T(e,t){e&1&&(n(0,"div",17),d(1,"i",18),n(2,"p"),s(3,"Loading your groups..."),i()())}function G(e,t){if(e&1){let r=h();n(0,"div",19),d(1,"i",20),s(2),n(3,"button",21),g("click",function(){u(r);let l=p();return b(l.loadGroups())}),d(4,"i",22),s(5," Retry "),i()()}if(e&2){let r=p();a(2),f(" ",r.errorMessage," ")}}function z(e,t){if(e&1){let r=h();n(0,"div",25),g("click",function(){let l=u(r).$implicit,k=p(2);return b(k.viewGroup(l.id))}),n(1,"div",26)(2,"h3"),d(3,"i",27),s(4),i(),n(5,"div",28)(6,"span",29),d(7,"i",30),s(8),i()()(),n(9,"div",31)(10,"button",32),d(11,"i",33),s(12," View Details "),i()()()}if(e&2){let r=t.$implicit,o=p(2);a(4),f(" ",r.name,""),a(4),f(" Created ",o.formatDate(r.created_at)," ")}}function V(e,t){if(e&1&&(n(0,"div",23),m(1,z,13,2,"div",24),i()),e&2){let r=p();a(),c("ngForOf",r.groups)}}function Y(e,t){e&1&&(n(0,"div",34),d(1,"i",35),n(2,"h3"),s(3,"No Groups Yet"),i(),n(4,"p"),d(5,"i",16),s(6," You haven't been added to any expense groups."),i(),n(7,"p"),d(8,"i",36),s(9," Contact your administrator to join groups and start tracking shared expenses."),i()())}var w=class e{constructor(t,r){this.apiService=t;this.router=r}groups=[];currentUser=null;isLoading=!0;errorMessage="";ngOnInit(){this.currentUser=this.apiService.getCurrentUser(),this.loadGroups()}loadGroups(){this.isLoading=!0,this.errorMessage="",this.apiService.getUserGroups().subscribe({next:t=>{this.groups=t,this.isLoading=!1},error:t=>{this.isLoading=!1,this.errorMessage="Failed to load groups. Please try again.",console.error("Error loading groups:",t)}})}viewGroup(t){this.router.navigate(["/group",t])}formatDate(t){return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}refreshGroups(){this.loadGroups()}static \u0275fac=function(r){return new(r||e)(_(P),_(O))};static \u0275cmp=x({type:e,selectors:[["app-user-dashboard"]],decls:15,vars:10,consts:[[1,"dashboard-container"],[1,"dashboard-header"],[1,"bi","bi-people-fill"],[1,"btn","btn-secondary","refresh-btn",3,"click","disabled"],["class","bi bi-arrow-clockwise",4,"ngIf"],["class","bi bi-hourglass-split spinning",4,"ngIf"],[4,"ngIf"],["class","welcome-message",4,"ngIf"],["class","loading-spinner",4,"ngIf"],["class","error-message",4,"ngIf"],["class","groups-grid",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"bi","bi-arrow-clockwise"],[1,"bi","bi-hourglass-split","spinning"],[1,"welcome-message"],[1,"bi","bi-person-heart","welcome-icon"],[1,"bi","bi-info-circle"],[1,"loading-spinner"],[1,"bi","bi-hourglass-split","spinning","large-icon"],[1,"error-message"],[1,"bi","bi-exclamation-triangle-fill"],[1,"btn","btn-outline","retry-btn",3,"click"],[1,"bi","bi-arrow-repeat"],[1,"groups-grid"],["class","group-card",3,"click",4,"ngFor","ngForOf"],[1,"group-card",3,"click"],[1,"group-header"],[1,"bi","bi-people"],[1,"group-meta"],[1,"created-date"],[1,"bi","bi-calendar3"],[1,"group-actions"],[1,"btn","btn-primary","view-btn"],[1,"bi","bi-eye"],[1,"empty-state"],[1,"bi","bi-collection","empty-icon"],[1,"bi","bi-person-check"]],template:function(r,o){r&1&&(n(0,"div",0)(1,"div",1)(2,"h2"),d(3,"i",2),s(4," My Groups"),i(),n(5,"button",3),g("click",function(){return o.refreshGroups()}),m(6,I,1,0,"i",4)(7,S,1,0,"i",5)(8,U,2,0,"span",6)(9,D,2,0,"span",6),i()(),m(10,L,8,2,"div",7)(11,T,4,0,"div",8)(12,G,6,1,"div",9)(13,V,2,1,"div",10)(14,Y,10,0,"div",11),i()),r&2&&(a(5),c("disabled",o.isLoading),a(),c("ngIf",!o.isLoading),a(),c("ngIf",o.isLoading),a(),c("ngIf",!o.isLoading),a(),c("ngIf",o.isLoading),a(),c("ngIf",o.currentUser),a(),c("ngIf",o.isLoading),a(),c("ngIf",o.errorMessage),a(),c("ngIf",!o.isLoading&&o.groups.length>0),a(),c("ngIf",!o.isLoading&&o.groups.length===0&&!o.errorMessage))},dependencies:[M,v,y],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:auto;font-family:Segoe UI,Roboto,sans-serif;color:#333;background-color:#fff}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.2rem;padding-bottom:.6rem;border-bottom:1px solid #eaeaea}.dashboard-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:600;font-size:1.4rem;color:#444;display:flex;align-items:center;gap:.4rem;margin:0}.refresh-btn[_ngcontent-%COMP%]{font-size:.85rem;padding:.4rem .9rem;border-radius:6px;display:flex;align-items:center;gap:.35rem;border:none;font-weight:500;transition:background .2s ease,transform .2s ease}.refresh-btn[_ngcontent-%COMP%]{background:#a7c7e7;color:#fff}.refresh-btn[_ngcontent-%COMP%]:hover{background:#8cb3da;transform:translateY(-2px)}.refresh-btn[_ngcontent-%COMP%]:disabled{background:#d6e4f5;cursor:not-allowed}.view-btn[_ngcontent-%COMP%]{background:#b5ead7;color:#2f4f4f;border:none;padding:.4rem .9rem;border-radius:6px;font-size:.85rem;font-weight:500;transition:background .2s ease,transform .2s ease}.view-btn[_ngcontent-%COMP%]:hover{background:#9fdcc6;transform:translateY(-2px)}.retry-btn[_ngcontent-%COMP%]{background:#f7b2b7;color:#5a1d1d;border:none;padding:.4rem .9rem;border-radius:6px;font-size:.85rem;font-weight:500;transition:background .2s ease,transform .2s ease}.retry-btn[_ngcontent-%COMP%]:hover{background:#f38a92;transform:translateY(-2px)}.welcome-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.6rem;background:#f9f9f9;border:1px solid #eaeaea;padding:.7rem 1rem;border-radius:8px;margin-bottom:1rem;font-size:.95rem;color:#444}.welcome-message[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600;color:#222}.welcome-icon[_ngcontent-%COMP%]{font-size:1.3rem;color:#666}.loading-spinner[_ngcontent-%COMP%]{text-align:center;padding:2rem;border-radius:10px;background:#fafafa;margin-top:1.5rem;color:#555}.loading-spinner[_ngcontent-%COMP%]   .large-icon[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:.6rem}.spinning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1.2s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-message[_ngcontent-%COMP%]{text-align:center;padding:1.2rem;border-radius:10px;background:#fff5f5;border:1px solid #f5cccc;color:#842029;margin-top:1rem}.groups-grid[_ngcontent-%COMP%]{display:grid;gap:1.5rem;grid-template-columns:repeat(auto-fill,minmax(280px,1fr))}.group-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.2rem;box-shadow:0 4px 12px #0000000d;transition:transform .2s,box-shadow .2s;cursor:pointer}.group-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 20px #0000001a}.group-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin-bottom:.4rem;display:flex;align-items:center;gap:.5rem;color:#222}.group-meta[_ngcontent-%COMP%]{font-size:.85rem;color:#6c757d}.group-actions[_ngcontent-%COMP%]{margin-top:1rem;display:flex;justify-content:flex-end}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:2rem;border-radius:12px;background:#fafafa;margin-top:1.5rem}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:.75rem;color:#999}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;color:#222}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#555}"]})};export{w as UserDashboardComponent};
