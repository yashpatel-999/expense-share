import{a as k,c as R,d as l,e as V}from"./chunk-4GET5A6J.js";import{Fa as C,Ha as i,Ia as o,Ja as c,Ka as x,La as h,Ma as s,Oa as r,Pa as S,Q as p,Qa as I,W as f,X as g,Za as T,jb as w,mb as D,na as m,ra as _,rb as y,sb as U,tb as u,va as A,za as v}from"./chunk-DRJN4SHT.js";function E(){let e=p(u),n=p(l);return e.isLoggedIn()?!0:(n.navigate(["/login"]),!1)}function L(){let e=p(u),n=p(l);return e.isLoggedIn()&&e.isAdmin()?!0:(n.navigate(["/dashboard"]),!1)}var M=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",loadComponent:()=>import("./chunk-RIE7XGKL.js").then(e=>e.LoginComponent)},{path:"admin",canActivate:[L],loadComponent:()=>import("./chunk-JI3Y6KH6.js").then(e=>e.AdminDashboardComponent)},{path:"dashboard",canActivate:[E],loadComponent:()=>import("./chunk-YVV5B45C.js").then(e=>e.UserDashboardComponent)},{path:"group/:id",canActivate:[E],loadComponent:()=>import("./chunk-KDAOSF2B.js").then(e=>e.GroupDetailComponent)},{path:"**",redirectTo:"/login"}];var O={providers:[T({eventCoalescing:!0}),V(M),y(U())]};function j(e,n){if(e&1){let t=x();i(0,"button",13),h("click",function(){f(t);let a=s(2);return g(a.goToAdmin())}),c(1,"i",14),r(2,"Admin Panel "),o()}}function G(e,n){if(e&1){let t=x();i(0,"header",3)(1,"div",4)(2,"h1",5),r(3),o(),i(4,"div",6)(5,"span",7),r(6),o(),v(7,j,3,0,"button",8),i(8,"button",9),h("click",function(){f(t);let a=s();return g(a.goToDashboard())}),c(9,"i",10),r(10,"Dashboard "),o(),i(11,"button",11),h("click",function(){f(t);let a=s();return g(a.logout())}),c(12,"i",12),r(13,"Logout "),o()()()()}if(e&2){let t=s();m(3),S(t.title),m(3),I("Welcome, ",t.currentUser.username,""),m(),C("ngIf",t.currentUser.is_admin)}}var b=class e{constructor(n,t){this.apiService=n;this.router=t}title="Expense Sharing App";currentUser=null;ngOnInit(){this.apiService.currentUser$.subscribe(n=>{this.currentUser=n})}logout(){this.apiService.logout(),this.router.navigate(["/login"])}goToAdmin(){this.router.navigate(["/admin"])}goToDashboard(){this.router.navigate(["/dashboard"])}static \u0275fac=function(t){return new(t||e)(_(u),_(l))};static \u0275cmp=A({type:e,selectors:[["app-root"]],decls:4,vars:1,consts:[[1,"app-container"],["class","app-header",4,"ngIf"],[1,"main-content"],[1,"app-header"],[1,"header-content","container-fluid"],[1,"h3","mb-0"],[1,"header-actions","d-flex","align-items-center","gap-2"],[1,"user-info","text-muted","small"],["class","btn btn-primary btn-sm",3,"click",4,"ngIf"],[1,"btn","btn-info","btn-sm",3,"click"],[1,"bi","bi-speedometer2","me-1"],[1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"bi","bi-box-arrow-right","me-1"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"bi","bi-gear-fill","me-1"]],template:function(t,d){t&1&&(i(0,"div",0),v(1,G,14,3,"header",1),i(2,"main",2),c(3,"router-outlet"),o()()),t&2&&(m(),C("ngIf",d.currentUser))},dependencies:[R,D,w],styles:[".app-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column}"]})};k(b,O).catch(e=>console.error(e));
